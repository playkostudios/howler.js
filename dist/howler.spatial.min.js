(function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var e=t._howls.length-1;e>=0;e--)t._howls[e].stereo(n);return t},HowlerGlobal.prototype.pos=function(n,t,e){var a=this;if(!a.ctx||!a.ctx.listener)return a;if(t=typeof t!="number"?a._pos[1]:t,e=typeof e!="number"?a._pos[2]:e,typeof n=="number")a._pos=[n,t,e],typeof a.ctx.listener.positionX<"u"?(a.ctx.listener.positionX.setTargetAtTime(a._pos[0],Howler.ctx.currentTime,.1),a.ctx.listener.positionY.setTargetAtTime(a._pos[1],Howler.ctx.currentTime,.1),a.ctx.listener.positionZ.setTargetAtTime(a._pos[2],Howler.ctx.currentTime,.1)):a.ctx.listener.setPosition(a._pos[0],a._pos[1],a._pos[2]);else return a._pos;return a},HowlerGlobal.prototype.orientation=function(n,t,e,a,o,l){var i=this;if(!i.ctx||!i.ctx.listener)return i;var r=i._orientation;if(t=typeof t!="number"?r[1]:t,e=typeof e!="number"?r[2]:e,a=typeof a!="number"?r[3]:a,o=typeof o!="number"?r[4]:o,l=typeof l!="number"?r[5]:l,typeof n=="number")i._orientation=[n,t,e,a,o,l],typeof i.ctx.listener.forwardX<"u"?(i.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),i.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),i.ctx.listener.forwardZ.setTargetAtTime(e,Howler.ctx.currentTime,.1),i.ctx.listener.upX.setTargetAtTime(a,Howler.ctx.currentTime,.1),i.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),i.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):i.ctx.listener.setOrientation(n,t,e,a,o,l);else return r;return i},Howl.prototype.init=function(n){return function(t){var e=this;return e._orientation=t.orientation||[1,0,0],e._stereo=t.stereo||null,e._pos=t.pos||null,e._pannerAttr={coneInnerAngle:typeof t.coneInnerAngle<"u"?t.coneInnerAngle:360,coneOuterAngle:typeof t.coneOuterAngle<"u"?t.coneOuterAngle:360,coneOuterGain:typeof t.coneOuterGain<"u"?t.coneOuterGain:0,distanceModel:typeof t.distanceModel<"u"?t.distanceModel:"inverse",maxDistance:typeof t.maxDistance<"u"?t.maxDistance:1e4,panningModel:typeof t.panningModel<"u"?t.panningModel:"HRTF",refDistance:typeof t.refDistance<"u"?t.refDistance:1,rolloffFactor:typeof t.rolloffFactor<"u"?t.rolloffFactor:1},e._onstereo=t.onstereo?[{fn:t.onstereo}]:[],e._onpos=t.onpos?[{fn:t.onpos}]:[],e._onorientation=t.onorientation?[{fn:t.onorientation}]:[],n.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,t){var e=this;if(!e._webAudio)return e;if(e._state!=="loaded")return e._queue.push({event:"stereo",action:function(){e.stereo(n,t)}}),e;var a=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof t>"u")if(typeof n=="number")e._stereo=n,e._pos=[n,0,0];else return e._stereo;for(var o=e._getSoundIds(t),l=0;l<o.length;l++){var i=e._soundById(o[l]);if(i)if(typeof n=="number")i._stereo=n,i._pos=[n,0,0],i._node&&(i._pannerAttr.panningModel="equalpower",(!i._panner||!i._panner.pan)&&p(i,a),a==="spatial"?typeof i._panner.positionX<"u"?(i._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),i._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),i._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):i._panner.setPosition(n,0,0):i._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),e._emit("stereo",i._id);else return i._stereo}return e},Howl.prototype.pos=function(n,t,e,a){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(n,t,e,a)}}),o;if(t=typeof t!="number"?0:t,e=typeof e!="number"?-.5:e,typeof a>"u")if(typeof n=="number")o._pos=[n,t,e];else return o._pos;for(var l=o._getSoundIds(a),i=0;i<l.length;i++){var r=o._soundById(l[i]);if(r)if(typeof n=="number")r._pos=[n,t,e],r._node&&((!r._panner||r._panner.pan)&&p(r,"spatial"),typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(t,Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(e,Howler.ctx.currentTime)):r._panner.setPosition(n,t,e)),o._emit("pos",r._id);else return r._pos}return o},Howl.prototype.orientation=function(n,t,e,a){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(n,t,e,a)}}),o;if(t=typeof t!="number"?o._orientation[1]:t,e=typeof e!="number"?o._orientation[2]:e,typeof a>"u")if(typeof n=="number")o._orientation=[n,t,e];else return o._orientation;for(var l=o._getSoundIds(a),i=0;i<l.length;i++){var r=o._soundById(l[i]);if(r)if(typeof n=="number")r._orientation=[n,t,e],r._node&&(r._panner||(r._pos||(r._pos=o._pos||[0,0,-.5]),p(r,"spatial")),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(t,Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(e,Howler.ctx.currentTime)):r._panner.setOrientation(n,t,e)),o._emit("orientation",r._id);else return r._orientation}return o},Howl.prototype.pannerAttr=function(){var n=this,t=arguments,e,a,o;if(!n._webAudio)return n;if(t.length===0)return n._pannerAttr;if(t.length===1)if(typeof t[0]=="object")e=t[0],typeof a>"u"&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),n._pannerAttr={coneInnerAngle:typeof e.pannerAttr.coneInnerAngle<"u"?e.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof e.pannerAttr.coneOuterAngle<"u"?e.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof e.pannerAttr.coneOuterGain<"u"?e.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof e.pannerAttr.distanceModel<"u"?e.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof e.pannerAttr.maxDistance<"u"?e.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof e.pannerAttr.refDistance<"u"?e.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof e.pannerAttr.rolloffFactor<"u"?e.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof e.pannerAttr.panningModel<"u"?e.pannerAttr.panningModel:n._panningModel});else return o=n._soundById(parseInt(t[0],10)),o?o._pannerAttr:n._pannerAttr;else t.length===2&&(e=t[0],a=parseInt(t[1],10));for(var l=n._getSoundIds(a),i=0;i<l.length;i++)if(o=n._soundById(l[i]),o){var r=o._pannerAttr;r={coneInnerAngle:typeof e.coneInnerAngle<"u"?e.coneInnerAngle:r.coneInnerAngle,coneOuterAngle:typeof e.coneOuterAngle<"u"?e.coneOuterAngle:r.coneOuterAngle,coneOuterGain:typeof e.coneOuterGain<"u"?e.coneOuterGain:r.coneOuterGain,distanceModel:typeof e.distanceModel<"u"?e.distanceModel:r.distanceModel,maxDistance:typeof e.maxDistance<"u"?e.maxDistance:r.maxDistance,refDistance:typeof e.refDistance<"u"?e.refDistance:r.refDistance,rolloffFactor:typeof e.rolloffFactor<"u"?e.rolloffFactor:r.rolloffFactor,panningModel:typeof e.panningModel<"u"?e.panningModel:r.panningModel};var f=o._panner;f||(o._pos||(o._pos=n._pos||[0,0,-.5]),p(o,"spatial"),f=o._panner),f.coneInnerAngle=r.coneInnerAngle,f.coneOuterAngle=r.coneOuterAngle,f.coneOuterGain=r.coneOuterGain,f.distanceModel=r.distanceModel,f.maxDistance=r.maxDistance,f.refDistance=r.refDistance,f.rolloffFactor=r.rolloffFactor,f.panningModel=r.panningModel}return n},Sound.prototype.init=function(n){return function(){var t=this,e=t._parent;t._orientation=e._orientation,t._stereo=e._stereo,t._pos=e._pos,t._pannerAttr=e._pannerAttr,n.call(this),t._stereo?e.stereo(t._stereo):t._pos&&e.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var t=this,e=t._parent;return t._orientation=e._orientation,t._stereo=e._stereo,t._pos=e._pos,t._pannerAttr=e._pannerAttr,t._stereo?e.stereo(t._stereo):t._pos?e.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,e._refreshBuffer(t)),n.call(this)}}(Sound.prototype.reset);var p=function(n,t){t=t||"spatial",t==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})();
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
